@page "/Player"
@inject ILogger<Object> logger

@using LionsDemo.Data
@using LionsDemo.Models

@inject IDataService dataService

<div class="row">
    <div class="col-12">
        <h3>
            Player Page @(selectedPlayer.PlayerId == 0 ? "" : $"{selectedPlayer.LastName}, {selectedPlayer.FirstName}")
        </h3>
        <div>
            <Dropdown>
                <DropdownToggle Color="Color.Primary">
                    Select a Player...
                </DropdownToggle>
                <DropdownMenu MaxMenuHeight="500px">
                    @foreach (var p in allPlayers)
                    {
                        <DropdownItem Clicked="() => { selectedPlayer = p; }">@($"{p.LastName}, {p.FirstName}")</DropdownItem>
                        <DropdownDivider />
                    }
                </DropdownMenu>
            </Dropdown>
        </div>
    </div>
    @*<div class="col-12">
         <strong>OBJECTIVE: Build a cool player page any way you see fit TESTTT</strong>
    </div>*@
</div>

<div class="row g-2">
    <div class="player-info col-sm-12 col-xxl-6" style="background-color: white; height: 250px;">
        <Card Margin="Margin.Is4.OnY">
            <CardImage Source="/Properties/Resources/jg.png" Alt="Player Headshot">
            </CardImage>
            <CardBody>
                <CardTitle Size="5">Jared Goff</CardTitle>
                <CardText>
                    QB #16
                </CardText>
            </CardBody>
        </Card>
    </div>
    <div class="col-sm-12 col-xxl-6" style="background-color: lightgray; height: 250px;">
        <h4>Player Information</h4>
        <ul style="list-style-type:none">
            <li>Team: </li>
            <li>Position: </li>
            <li>Injury History: </li>
        </ul>
    </div>
    <div class="table-responsive">
        <table class="table table-striped caption-top">
            <caption>2021 Stats</caption>
            <tr class="table-light">
                <th>Position</th>
                <th>Pass Yds</th>
                <th>Att</th>
                <th>Cmp</th>
                <th>Cmp %</th>
                <th>TD</th>
                <th>INT</th>
                <th>QBR</th>
            </tr>
            <tr>
                <td>QB</td>
                <td>3245</td>
                <td>494</td>
                <td>332</td>
                <td>67.2</td>
                <td>19</td>
                <td>8</td>
                <td>91.5</td>
            </tr>
        </table>
    </div>
    <div class="col-4" style="background-color: green; height: 250px;">
        1/3 Width Column on All Devices
    </div>
    <div class="col-4" style="background-color: lightgreen; height: 250px;">
        1/3 Width Column on All Devices
    </div>
    <div class="col-4" style="background-color: darkgreen; height: 250px;">
        1/3 Width Column on All Devices
    </div>
    <div class="col-12" style="background-color: yellow; height: 250px;">
        Full Width Column
    </div>
</div>

@code {
    IEnumerable<Player> allPlayers = new List<Player>();
    Player selectedPlayer = new();

    protected override void OnInitialized()
    {
        allPlayers = dataService.GetPlayers();
        @*logger.LogInformation(allPlayers);*@
        base.OnInitialized();
    }

}
